let e=new iro.Color("#091970");let o=e.hexString;e.setChannel("hsl","l",e.hsl.l/3);let r=e.hexString;let t=new iro.ColorPicker("#picker",{color:o,borderWidth:3});document.querySelectorAll(".colored").forEach(e=>{e.style.backgroundColor=e.classList.contains("dark")?r:o});let l=true;t.on("color:change",function(t){e=t.clone();o=e.hexString;e.setChannel("hsl","l",t.hsl.l/3);r=e.hexString;document.querySelectorAll(".colored").forEach(e=>{e.style.backgroundColor=e.classList.contains("dark")?r:o});if(l){l=false;let e=new XMLHttpRequest;e.open("GET",`http://192.168.0.84/api?r=${t.rgb.r}&g=${t.rgb.g}&b=${t.rgb.b}`);e.addEventListener("load",()=>{l=true});e.send()}});let s=document.querySelector(".bg");setInterval(()=>{a();a();a();a();a()},1e3);function a(){let e=document.createElement("div");e.classList.add("circle");e.classList.add("colored");e.style.backgroundColor=o;if(Math.random()>.35)e.classList.add("light");else e.classList.add("dark");e.style.setProperty("--pos-x",Math.floor(Math.random()*100)+"vw");e.style.setProperty("--pos-y",Math.floor(Math.random()*100)+"vh");e.style.setProperty("--end-x",Math.floor(Math.random()*100)-50+"vw");e.style.setProperty("--end-y",Math.floor(Math.random()*100)-50+"vh");setTimeout(()=>{e.remove()},8500);s.appendChild(e)}